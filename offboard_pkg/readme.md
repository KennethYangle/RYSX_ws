## 硬件设置
1. 插入pixhawk，设置HITL模式，连接遥控器接收器，打开遥控器
2. 校准遥控器，测试的遥控器键位如下。
* 其中CH5用于切换offboard模式和手控模式，CH5位于最后，即CH5=0时是offboard模式，程序会夺走控制权；CH5位于其他档位，即CH5=1或2时，程序退出offboard模式，可以手控。
* CH6是手控状态下的一些控制模式，如自稳模式、定点模式、定高模式。
* CH10是任务开始键。CH10位于最前，即CH10=1时，任务开始。
* CH9是返航键。CH9位于最前，即CH9=1时，执行返航。
* CH10和CH9都是在offboard模式下的应用。此时CH5也应在offboard模式，否则还是遵循手动遥控。

```
             +                       +
             |                       |
      CH5  + |                       | + CH6
           | |                       | |
        +---------------------------------+
        |                                 |
        |       +CH9               +      |
        |  CH10 |                  |      |
        |     + |                  | +    |
        |     + +                  + +    |
        |            +           +        |
        |            |           |        |
        |        +------+   +-------+     |
        |            |           |        |
        |            |           |        |
        |                                 |
        +---------------------------------+
```

## 软件使用
1. 将本package放到工作空间中，编译
2. 运行

        # 窗口一
        roscd offboard_pkg/shell/
        ./jmavsim-hitl.sh
        # 窗口二
        roslaunch offboard_pkg rysx.launch

3. CH6在手控模式下，手动使飞行器起飞并悬停
4. CH10切到最前开始对接，CH6切到offboard模式。
5. 任务完成，CH9切到最前开始返航。
6. 任何情况下需要手控，CH6切到手控状态，听从遥控器指令。

## Topic说明
`fake_pub.py`发布了一些仿真获取不到的信息，飞行实验时可以替换。
`car/local_position/pose`是汽车的位置信息，`car/local_position/velocity`是汽车的速度信息；`tracker/pos_image`是图像模块计算得到的目标在图像平面像素坐标和面积，丢失时为[-1,-1,-1]。